<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="383px" preserveAspectRatio="none" style="width:2047px;height:383px;background:#FFFFFF;" version="1.1" viewBox="0 0 2047 383" width="2047px" zoomAndPan="magnify"><defs/><g><!--cluster shared--><g id="cluster_shared"><path d="M8.5,6 L63.668,6 A3.75,3.75 0 0 1 66.168,8.5 L73.168,28.2969 L511.5,28.2969 A2.5,2.5 0 0 1 514,30.7969 L514,244.5 A2.5,2.5 0 0 1 511.5,247 L8.5,247 A2.5,2.5 0 0 1 6,244.5 L6,8.5 A2.5,2.5 0 0 1 8.5,6 " fill="#FFFFFF" fill-opacity="0.00000" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="73.168" y1="28.2969" y2="28.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="54.168" x="10" y="20.9951">shared</text></g><!--cluster kernel--><g id="cluster_kernel"><path d="M32.5,49 L83.4707,49 A3.75,3.75 0 0 1 85.9707,51.5 L92.9707,71.2969 L487.5,71.2969 A2.5,2.5 0 0 1 490,73.7969 L490,220.5 A2.5,2.5 0 0 1 487.5,223 L32.5,223 A2.5,2.5 0 0 1 30,220.5 L30,51.5 A2.5,2.5 0 0 1 32.5,49 " fill="#FFFFFF" fill-opacity="0.00000" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="30" x2="92.9707" y1="71.2969" y2="71.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="49.9707" x="34" y="63.9951">kernel</text></g><!--cluster domain--><g id="cluster_domain"><path d="M56.5,92 L115.9404,92 A3.75,3.75 0 0 1 118.4404,94.5 L125.4404,114.2969 L463.5,114.2969 A2.5,2.5 0 0 1 466,116.7969 L466,196.5 A2.5,2.5 0 0 1 463.5,199 L56.5,199 A2.5,2.5 0 0 1 54,196.5 L54,94.5 A2.5,2.5 0 0 1 56.5,92 " fill="#FFFFFF" fill-opacity="0.00000" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="54" x2="125.4404" y1="114.2969" y2="114.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="58.4404" x="58" y="106.9951">domain</text></g><!--cluster application--><g id="cluster_application"><path d="M540.5,32.5 L629.4102,32.5 A3.75,3.75 0 0 1 631.9102,35 L638.9102,54.7969 L2037.5,54.7969 A2.5,2.5 0 0 1 2040,57.2969 L2040,373.5 A2.5,2.5 0 0 1 2037.5,376 L540.5,376 A2.5,2.5 0 0 1 538,373.5 L538,35 A2.5,2.5 0 0 1 540.5,32.5 " fill="#FFFFFF" fill-opacity="0.00000" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="538" x2="638.9102" y1="54.7969" y2="54.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="87.9102" x="542" y="47.4951">application</text></g><!--cluster domain--><g id="cluster_domain"><path d="M1711.5,75.5 L1770.9404,75.5 A3.75,3.75 0 0 1 1773.4404,78 L1780.4404,97.7969 L2013.5,97.7969 A2.5,2.5 0 0 1 2016,100.2969 L2016,213 A2.5,2.5 0 0 1 2013.5,215.5 L1711.5,215.5 A2.5,2.5 0 0 1 1709,213 L1709,78 A2.5,2.5 0 0 1 1711.5,75.5 " fill="#FFFFFF" fill-opacity="0.00000" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1709" x2="1780.4404" y1="97.7969" y2="97.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="58.4404" x="1713" y="90.4951">domain</text></g><!--class User--><g id="elem_User"><rect codeLine="14" fill="#F1F1F1" height="56.2656" id="User" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77.6465" x="221" y="127"/><ellipse cx="236" cy="147.1328" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M231.9219,142.8984 L231.9219,140.7422 L239.3125,140.7422 L239.3125,142.8984 L236.8438,142.8984 L236.8438,150.9766 L239.3125,150.9766 L239.3125,153.1328 L231.9219,153.1328 L231.9219,150.9766 L234.3906,150.9766 L234.3906,142.8984 L231.9219,142.8984 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49.6465" x="248" y="143.1387">&#171;entity&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="31.9102" x="256.8682" y="158.9639">User</text><line style="stroke:#181818;stroke-width:0.5;" x1="222" x2="297.6465" y1="167.2656" y2="167.2656"/><line style="stroke:#181818;stroke-width:0.5;" x1="222" x2="297.6465" y1="175.2656" y2="175.2656"/></g><!--class UserId--><g id="elem_UserId"><rect codeLine="15" fill="#F1F1F1" height="56.2656" id="UserId" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116.3828" x="334" y="127"/><ellipse cx="349" cy="147.1328" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M344.9219,142.8984 L344.9219,140.7422 L352.3125,140.7422 L352.3125,142.8984 L349.8438,142.8984 L349.8438,150.9766 L352.3125,150.9766 L352.3125,153.1328 L344.9219,153.1328 L344.9219,150.9766 L347.3906,150.9766 L347.3906,142.8984 L344.9219,142.8984 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="88.3828" x="361" y="143.1387">&#171;value object&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="44.9258" x="382.7285" y="158.9639">UserId</text><line style="stroke:#181818;stroke-width:0.5;" x1="335" x2="449.3828" y1="167.2656" y2="167.2656"/><line style="stroke:#181818;stroke-width:0.5;" x1="335" x2="449.3828" y1="175.2656" y2="175.2656"/></g><!--class GroupId--><g id="elem_GroupId"><rect codeLine="16" fill="#F1F1F1" height="56.2656" id="GroupId" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116.3828" x="70" y="127"/><ellipse cx="85" cy="147.1328" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M80.9219,142.8984 L80.9219,140.7422 L88.3125,140.7422 L88.3125,142.8984 L85.8438,142.8984 L85.8438,150.9766 L88.3125,150.9766 L88.3125,153.1328 L80.9219,153.1328 L80.9219,150.9766 L83.3906,150.9766 L83.3906,142.8984 L80.9219,142.8984 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="88.3828" x="97" y="143.1387">&#171;value object&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="55.9453" x="113.2188" y="158.9639">GroupId</text><line style="stroke:#181818;stroke-width:0.5;" x1="71" x2="185.3828" y1="167.2656" y2="167.2656"/><line style="stroke:#181818;stroke-width:0.5;" x1="71" x2="185.3828" y1="175.2656" y2="175.2656"/></g><!--class GroupsRepository--><g id="elem_GroupsRepository"><rect codeLine="32" fill="#F1F1F1" height="48" id="GroupsRepository" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="157.2959" x="554.5" y="131"/><ellipse cx="569.5" cy="147" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M565.4219,142.7656 L565.4219,140.6094 L572.8125,140.6094 L572.8125,142.7656 L570.3438,142.7656 L570.3438,150.8438 L572.8125,150.8438 L572.8125,153 L565.4219,153 L565.4219,150.8438 L567.8906,150.8438 L567.8906,142.7656 L565.4219,142.7656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="125.2959" x="583.5" y="151.8467">GroupsRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="555.5" x2="710.7959" y1="163" y2="163"/><line style="stroke:#181818;stroke-width:0.5;" x1="555.5" x2="710.7959" y1="171" y2="171"/></g><!--class NotificationPublisher--><g id="elem_NotificationPublisher"><rect codeLine="34" fill="#F1F1F1" height="80.5938" id="NotificationPublisher" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="548.3613" x="747" y="114.5"/><ellipse cx="944.5073" cy="130.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M940.4292,126.2656 L940.4292,124.1094 L947.8198,124.1094 L947.8198,126.2656 L945.3511,126.2656 L945.3511,134.3438 L947.8198,134.3438 L947.8198,136.5 L940.4292,136.5 L940.4292,134.3438 L942.8979,134.3438 L942.8979,126.2656 L940.4292,126.2656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="144.8467" x="965.0073" y="135.3467">NotificationPublisher</text><line style="stroke:#181818;stroke-width:0.5;" x1="748" x2="1294.3613" y1="146.5" y2="146.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="748" x2="1294.3613" y1="154.5" y2="154.5"/><ellipse cx="758" cy="168.1484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="522.3613" x="767" y="171.4951">send(notificationMessage: NotificationMessage): PublishingTargetStrategy</text><ellipse cx="758" cy="184.4453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="418.9199" x="767" y="187.792">send(message: NotificationMessage: userIds: Set&lt;UserId&gt;)</text></g><!--class PublishingTargetStrategy--><g id="elem_PublishingTargetStrategy"><rect codeLine="39" fill="#F1F1F1" height="80.5938" id="PublishingTargetStrategy" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="359.6279" x="1330" y="114.5"/><ellipse cx="1416.7344" cy="130.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1412.6563,126.2656 L1412.6563,124.1094 L1420.0469,124.1094 L1420.0469,126.2656 L1417.5781,126.2656 L1417.5781,134.3438 L1420.0469,134.3438 L1420.0469,136.5 L1412.6563,136.5 L1412.6563,134.3438 L1415.125,134.3438 L1415.125,126.2656 L1412.6563,126.2656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="177.6592" x="1437.2344" y="135.3467">PublishingTargetStrategy</text><line style="stroke:#181818;stroke-width:0.5;" x1="1331" x2="1688.6279" y1="146.5" y2="146.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="1331" x2="1688.6279" y1="154.5" y2="154.5"/><ellipse cx="1341" cy="168.1484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="242.2588" x="1350" y="171.4951">toAllMembersOf(groupId: GroupId)</text><ellipse cx="1341" cy="184.4453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="333.6279" x="1350" y="187.792">toAllMembersSharingGroupWith(userId: UserId)</text></g><!--class UsersTokensRepository--><g id="elem_UsersTokensRepository"><rect codeLine="44" fill="#F1F1F1" height="96.8906" id="UsersTokensRepository" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="343.0781" x="553.5" y="263"/><ellipse cx="638.6484" cy="279" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M634.5703,274.7656 L634.5703,272.6094 L641.9609,272.6094 L641.9609,274.7656 L639.4922,274.7656 L639.4922,282.8438 L641.9609,282.8438 L641.9609,285 L634.5703,285 L634.5703,282.8438 L637.0391,282.8438 L637.0391,274.7656 L634.5703,274.7656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="164.2813" x="659.1484" y="283.8467">UsersTokensRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="554.5" x2="895.5781" y1="295" y2="295"/><line style="stroke:#181818;stroke-width:0.5;" x1="554.5" x2="895.5781" y1="303" y2="303"/><ellipse cx="564.5" cy="316.6484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="305.7441" x="573.5" y="319.9951">save(userToken: UserToken): Result&lt;Unit&gt;</text><ellipse cx="564.5" cy="332.9453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="282.6934" x="573.5" y="336.292">get(userId: UserId): Result&lt;UserToken&gt;</text><ellipse cx="564.5" cy="349.2422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="317.0781" x="573.5" y="352.5889">delete(userToken: UserToken): Result&lt;Unit&gt;</text></g><!--class UsersTokensService--><g id="elem_UsersTokensService"><rect codeLine="50" fill="#F1F1F1" height="80.5938" id="UsersTokensService" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="440.4287" x="932" y="271"/><ellipse cx="1077.4893" cy="287" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1073.4111,282.7656 L1073.4111,280.6094 L1080.8018,280.6094 L1080.8018,282.7656 L1078.333,282.7656 L1078.333,290.8438 L1080.8018,290.8438 L1080.8018,293 L1073.4111,293 L1073.4111,290.8438 L1075.8799,290.8438 L1075.8799,282.7656 L1073.4111,282.7656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="140.9502" x="1097.9893" y="291.8467">UsersTokensService</text><line style="stroke:#181818;stroke-width:0.5;" x1="933" x2="1371.4287" y1="303" y2="303"/><line style="stroke:#181818;stroke-width:0.5;" x1="933" x2="1371.4287" y1="311" y2="311"/><ellipse cx="943" cy="324.6484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="414.4287" x="952" y="327.9951">register(userId: UserId, token: Token): Result&lt;UserToken&gt;</text><ellipse cx="943" cy="340.9453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="382.9834" x="952" y="344.292">invalidate(userId: UserId, token: Token): Result&lt;Unit&gt;</text></g><!--class Token--><g id="elem_Token"><rect codeLine="24" fill="#F1F1F1" height="56.2656" id="Token" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116.3828" x="1884" y="127"/><ellipse cx="1899" cy="147.1328" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1894.9219,142.8984 L1894.9219,140.7422 L1902.3125,140.7422 L1902.3125,142.8984 L1899.8438,142.8984 L1899.8438,150.9766 L1902.3125,150.9766 L1902.3125,153.1328 L1894.9219,153.1328 L1894.9219,150.9766 L1897.3906,150.9766 L1897.3906,142.8984 L1894.9219,142.8984 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="88.3828" x="1911" y="143.1387">&#171;value object&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="42.7109" x="1933.8359" y="158.9639">Token</text><line style="stroke:#181818;stroke-width:0.5;" x1="1885" x2="1999.3828" y1="167.2656" y2="167.2656"/><line style="stroke:#181818;stroke-width:0.5;" x1="1885" x2="1999.3828" y1="175.2656" y2="175.2656"/></g><!--class UserToke--><g id="elem_UserToke"><rect codeLine="26" fill="#F1F1F1" height="88.8594" id="UserToke" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123.6445" x="1725" y="110.5"/><ellipse cx="1751.6534" cy="130.6328" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1747.5753,126.3984 L1747.5753,124.2422 L1754.9659,124.2422 L1754.9659,126.3984 L1752.4972,126.3984 L1752.4972,134.4766 L1754.9659,134.4766 L1754.9659,136.6328 L1747.5753,136.6328 L1747.5753,134.4766 L1750.044,134.4766 L1750.044,126.3984 L1747.5753,126.3984 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49.6465" x="1776.2938" y="126.6387">&#171;entity&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="65.748" x="1768.2431" y="142.4639">UserToke</text><line style="stroke:#181818;stroke-width:0.5;" x1="1726" x2="1847.6445" y1="150.7656" y2="150.7656"/><ellipse cx="1736" cy="164.4141" fill="#FFFFFF" fill-opacity="0.00000" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.6445" x="1745" y="167.7607">userId: UserId</text><ellipse cx="1736" cy="180.7109" fill="#FFFFFF" fill-opacity="0.00000" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.5264" x="1745" y="184.0576">token: Token</text><line style="stroke:#181818;stroke-width:0.5;" x1="1726" x2="1847.6445" y1="191.3594" y2="191.3594"/></g><!--link User to UserId--><g id="link_User_UserId"><path codeLine="17" d="M311.19,155 C322.79,155 316.39,155 327.99,155 " fill="#FFFFFF" fill-opacity="0.00000" id="User-UserId" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="299.19,155,305.19,159,311.19,155,305.19,151,299.19,155" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="333.99,155,324.99,151,328.99,155,324.99,159,333.99,155" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="317.6499" y="151.0502">1</text></g><!--SRC=[ZLDDRu904BtpApQUj5QJNeaXwQdfmROHcvvN677gkajs1nDZ-EzTO550iEw1mywRUHyxf3pQymIOsN4DyNmFMeAOn-h0KRApn-n1IQ2tF0BsRK2pnG8a8Ps2eAVw7jlwaOiCcDhyGaGtg3UjidG8LX8ypVGiOAENaPlevPwNEfayJGL6d50LwigUkdJHNDwsITTg3_A6aftpFd31MZGqdBeawZDbMQdChnMsYrIm-HNffPHxrRSl3hE2L1aafK_T-eSYt3h7Nzb6eDdPYAvofio0ZCUo0Lk2CJOGlzNhBYS-SrDG9ckk4w2GD2T8JjsHXpjZV1U0yLa8jAXI22Rz5eS8Mov8lGgnXCC6jFdSZfDgI_nwNIO3qD2khHrSedwGTkFsmmmeAegcV9v6ykrG-H7AMUlgBUkTa3R05PXCMDCIAMYqM6TTzYksRcysn2207cUvvo84VKHxrRIW8K5ZiHrHpwtr_4SYIll7OCoTp0UcDENcVm00]--></g></svg>